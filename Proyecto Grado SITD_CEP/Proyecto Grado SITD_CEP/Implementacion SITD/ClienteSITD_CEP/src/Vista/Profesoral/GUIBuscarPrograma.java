/*
 * Sistema de Información para la toma de Decisiones
 * Centro de Educación Permanente
 * Autor: 
 * Yesid Camilo Ortiz Castillo 
 */

/*
 * GUIBuscarPrograma.java
 *
 * Created on 13/11/2012, 10:54:20 AM
 */
package Vista.Profesoral;

import Controlador.Profesoral.ControlPrograma;
import Estructural.Convenio;
import Estructural.Programa;
import Modelo.IServicioProfesoral;
import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Date;
import javax.swing.JOptionPane;
import javax.swing.table.DefaultTableModel;

/**
 *
 * @author Kmilo
 */
public class GUIBuscarPrograma extends javax.swing.JFrame {

  private IServicioProfesoral servicioProfesoral;
  private ControlPrograma controlPrograma;
  private Programa programa = null;
  private ArrayList<Programa> programas = null;
  private DateFormat formatoFecha = new SimpleDateFormat("dd/MM/yy");
  private Convenio convenio = null;

  /** Creates new form GUIBuscarPrograma */
  public GUIBuscarPrograma(IServicioProfesoral servicioProfesoral) {
    initComponents();
    this.servicioProfesoral = servicioProfesoral;
    this.controlPrograma = new ControlPrograma(servicioProfesoral);
    cargarProgramas();
  }

  /** This method is called from within the constructor to
   * initialize the form.
   * WARNING: Do NOT modify this code. The content of this method is
   * always regenerated by the Form Editor.
   */
  @SuppressWarnings("unchecked")
  // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
  private void initComponents() {

    panelBusquedaPrograma = new javax.swing.JPanel();
    lblTitulo = new javax.swing.JLabel();
    lblicono = new javax.swing.JLabel();
    panelBusquedaCohorte = new javax.swing.JPanel();
    lblCohorte = new javax.swing.JLabel();
    txtCohorte = new javax.swing.JTextField();
    btnBuscarPrograma = new javax.swing.JButton();
    panelDatosConvenio = new javax.swing.JPanel();
    radioConvenioSi = new javax.swing.JRadioButton();
    radioConvenioNo = new javax.swing.JRadioButton();
    lblNumeroConvenio = new javax.swing.JLabel();
    txtNumeroConvenio = new javax.swing.JTextField();
    btnBuscarConvenio = new javax.swing.JButton();
    lblEstadoConvenio = new javax.swing.JLabel();
    lblEstadoConvenioValor = new javax.swing.JLabel();
    panelDatosPrograma = new javax.swing.JPanel();
    lblCohorte1 = new javax.swing.JLabel();
    lblNombrePrograma = new javax.swing.JLabel();
    lblFecha = new javax.swing.JLabel();
    lblValor = new javax.swing.JLabel();
    lblParticipantes = new javax.swing.JLabel();
    lblEstado = new javax.swing.JLabel();
    txtCohortePrograma = new javax.swing.JTextField();
    txtNombre = new javax.swing.JTextField();
    comboFecha = new datechooser.beans.DateChooserCombo();
    txtValor = new javax.swing.JTextField();
    spinParticipantes = new javax.swing.JSpinner();
    comboEstado = new javax.swing.JComboBox();
    panelListadoGeneral = new javax.swing.JPanel();
    scrollListadoGeneral = new javax.swing.JScrollPane();
    tablaListadoProgramas = new javax.swing.JTable();
    btnGuardarPrograma = new javax.swing.JButton();
    btnSalir = new javax.swing.JButton();
    barraMenu = new javax.swing.JMenuBar();
    menuArchivo = new javax.swing.JMenu();
    menuAyuda = new javax.swing.JMenu();

    setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
    setTitle("Busqueda de Programas");

    panelBusquedaPrograma.setBackground(new java.awt.Color(255, 255, 255));

    lblTitulo.setFont(new java.awt.Font("Calibri", 3, 24)); // NOI18N
    lblTitulo.setText("Busqueda y Edición de Programa");

    lblicono.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/buscarModuloGrande.png"))); // NOI18N

    panelBusquedaCohorte.setBackground(new java.awt.Color(255, 255, 255));
    panelBusquedaCohorte.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Busqueda por Cohorte de Programa", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Calibri", 2, 13))); // NOI18N

    lblCohorte.setFont(new java.awt.Font("Calibri", 2, 13));
    lblCohorte.setText("Cohorte del Programa");

    txtCohorte.setFont(new java.awt.Font("Calibri", 2, 13)); // NOI18N
    txtCohorte.setBorder(new javax.swing.border.SoftBevelBorder(javax.swing.border.BevelBorder.LOWERED));

    btnBuscarPrograma.setFont(new java.awt.Font("Calibri", 3, 13)); // NOI18N
    btnBuscarPrograma.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/buscarModulo.png"))); // NOI18N
    btnBuscarPrograma.setText("Buscar");
    btnBuscarPrograma.addActionListener(new java.awt.event.ActionListener() {
      public void actionPerformed(java.awt.event.ActionEvent evt) {
        btnBuscarProgramaActionPerformed(evt);
      }
    });

    javax.swing.GroupLayout panelBusquedaCohorteLayout = new javax.swing.GroupLayout(panelBusquedaCohorte);
    panelBusquedaCohorte.setLayout(panelBusquedaCohorteLayout);
    panelBusquedaCohorteLayout.setHorizontalGroup(
      panelBusquedaCohorteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
      .addGroup(panelBusquedaCohorteLayout.createSequentialGroup()
        .addGap(113, 113, 113)
        .addComponent(lblCohorte)
        .addGap(21, 21, 21)
        .addComponent(txtCohorte, javax.swing.GroupLayout.PREFERRED_SIZE, 170, javax.swing.GroupLayout.PREFERRED_SIZE)
        .addGap(18, 18, 18)
        .addComponent(btnBuscarPrograma)
        .addContainerGap(185, Short.MAX_VALUE))
    );
    panelBusquedaCohorteLayout.setVerticalGroup(
      panelBusquedaCohorteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
      .addGroup(panelBusquedaCohorteLayout.createSequentialGroup()
        .addContainerGap()
        .addGroup(panelBusquedaCohorteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
          .addComponent(lblCohorte)
          .addComponent(btnBuscarPrograma)
          .addComponent(txtCohorte, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
    );

    panelDatosConvenio.setBackground(new java.awt.Color(255, 255, 255));
    panelDatosConvenio.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Datos Convenio", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Calibri", 2, 13))); // NOI18N

    radioConvenioSi.setBackground(new java.awt.Color(255, 255, 255));
    radioConvenioSi.setFont(new java.awt.Font("Calibri", 2, 13));
    radioConvenioSi.setText("Programa en Convenio");
    radioConvenioSi.addActionListener(new java.awt.event.ActionListener() {
      public void actionPerformed(java.awt.event.ActionEvent evt) {
        radioConvenioSiActionPerformed(evt);
      }
    });

    radioConvenioNo.setBackground(new java.awt.Color(255, 255, 255));
    radioConvenioNo.setFont(new java.awt.Font("Calibri", 2, 13));
    radioConvenioNo.setText("Programa sin Convenio");
    radioConvenioNo.addActionListener(new java.awt.event.ActionListener() {
      public void actionPerformed(java.awt.event.ActionEvent evt) {
        radioConvenioNoActionPerformed(evt);
      }
    });

    lblNumeroConvenio.setFont(new java.awt.Font("Calibri", 2, 13));
    lblNumeroConvenio.setText("Número Convenio");

    txtNumeroConvenio.setFont(new java.awt.Font("Calibri", 2, 13)); // NOI18N

    btnBuscarConvenio.setFont(new java.awt.Font("Calibri", 3, 13)); // NOI18N
    btnBuscarConvenio.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/buscarConvenio.png"))); // NOI18N
    btnBuscarConvenio.setText("Buscar Convenio");
    btnBuscarConvenio.addActionListener(new java.awt.event.ActionListener() {
      public void actionPerformed(java.awt.event.ActionEvent evt) {
        btnBuscarConvenioActionPerformed(evt);
      }
    });

    lblEstadoConvenio.setFont(new java.awt.Font("Calibri", 2, 13));
    lblEstadoConvenio.setText("Estado Convenio");

    lblEstadoConvenioValor.setFont(new java.awt.Font("Calibri", 2, 13)); // NOI18N
    lblEstadoConvenioValor.setText("estado");

    javax.swing.GroupLayout panelDatosConvenioLayout = new javax.swing.GroupLayout(panelDatosConvenio);
    panelDatosConvenio.setLayout(panelDatosConvenioLayout);
    panelDatosConvenioLayout.setHorizontalGroup(
      panelDatosConvenioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
      .addGroup(panelDatosConvenioLayout.createSequentialGroup()
        .addContainerGap()
        .addGroup(panelDatosConvenioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
          .addGroup(panelDatosConvenioLayout.createSequentialGroup()
            .addComponent(radioConvenioSi)
            .addGap(80, 80, 80)
            .addComponent(lblNumeroConvenio)
            .addGap(30, 30, 30)
            .addComponent(txtNumeroConvenio, javax.swing.GroupLayout.PREFERRED_SIZE, 122, javax.swing.GroupLayout.PREFERRED_SIZE)
            .addGap(30, 30, 30)
            .addComponent(btnBuscarConvenio))
          .addGroup(panelDatosConvenioLayout.createSequentialGroup()
            .addComponent(radioConvenioNo)
            .addGap(144, 144, 144)
            .addComponent(lblEstadoConvenio)
            .addGap(51, 51, 51)
            .addComponent(lblEstadoConvenioValor)))
        .addGap(60, 60, 60))
    );
    panelDatosConvenioLayout.setVerticalGroup(
      panelDatosConvenioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
      .addGroup(panelDatosConvenioLayout.createSequentialGroup()
        .addGroup(panelDatosConvenioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
          .addComponent(radioConvenioSi)
          .addComponent(txtNumeroConvenio, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
          .addComponent(lblNumeroConvenio)
          .addComponent(btnBuscarConvenio))
        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 4, Short.MAX_VALUE)
        .addGroup(panelDatosConvenioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
          .addComponent(radioConvenioNo)
          .addComponent(lblEstadoConvenio)
          .addComponent(lblEstadoConvenioValor))
        .addContainerGap())
    );

    panelDatosPrograma.setBackground(new java.awt.Color(255, 255, 255));
    panelDatosPrograma.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Datos del Programa", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Calibri", 2, 13))); // NOI18N

    lblCohorte1.setFont(new java.awt.Font("Calibri", 2, 13));
    lblCohorte1.setText("Cohorte del Programa");

    lblNombrePrograma.setFont(new java.awt.Font("Calibri", 2, 13));
    lblNombrePrograma.setText("Nombre del Programa");

    lblFecha.setFont(new java.awt.Font("Calibri", 2, 13));
    lblFecha.setText("Fecha Inicio");

    lblValor.setFont(new java.awt.Font("Calibri", 2, 13));
    lblValor.setText("Valor Programa");

    lblParticipantes.setFont(new java.awt.Font("Calibri", 2, 13));
    lblParticipantes.setText("Número de Participantes");

    lblEstado.setFont(new java.awt.Font("Calibri", 2, 13));
    lblEstado.setText("Estado del Programa");

    txtCohortePrograma.setFont(new java.awt.Font("Calibri", 2, 13)); // NOI18N
    txtCohortePrograma.setBorder(new javax.swing.border.SoftBevelBorder(javax.swing.border.BevelBorder.LOWERED));

    txtNombre.setFont(new java.awt.Font("Calibri", 2, 13)); // NOI18N
    txtNombre.setBorder(new javax.swing.border.SoftBevelBorder(javax.swing.border.BevelBorder.LOWERED));

    txtValor.setFont(new java.awt.Font("Calibri", 2, 13)); // NOI18N
    txtValor.setBorder(new javax.swing.border.SoftBevelBorder(javax.swing.border.BevelBorder.LOWERED));

    spinParticipantes.setFont(new java.awt.Font("Calibri", 2, 13)); // NOI18N
    spinParticipantes.setBorder(new javax.swing.border.SoftBevelBorder(javax.swing.border.BevelBorder.LOWERED));
    spinParticipantes.setMinimumSize(new java.awt.Dimension(31, 20));

    comboEstado.setFont(new java.awt.Font("Calibri", 2, 13)); // NOI18N
    comboEstado.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Vendido", "No Vendido" }));
    comboEstado.setBorder(new javax.swing.border.SoftBevelBorder(javax.swing.border.BevelBorder.LOWERED));

    spinParticipantes.setModel(new javax.swing.SpinnerNumberModel(Integer.valueOf(1), Integer.valueOf(1), null, Integer.valueOf(1)));

    javax.swing.GroupLayout panelDatosProgramaLayout = new javax.swing.GroupLayout(panelDatosPrograma);
    panelDatosPrograma.setLayout(panelDatosProgramaLayout);
    panelDatosProgramaLayout.setHorizontalGroup(
      panelDatosProgramaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
      .addGroup(panelDatosProgramaLayout.createSequentialGroup()
        .addGroup(panelDatosProgramaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
          .addGroup(panelDatosProgramaLayout.createSequentialGroup()
            .addContainerGap()
            .addGroup(panelDatosProgramaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
              .addGroup(panelDatosProgramaLayout.createSequentialGroup()
                .addComponent(lblCohorte1)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 24, Short.MAX_VALUE)
                .addComponent(txtCohortePrograma, javax.swing.GroupLayout.PREFERRED_SIZE, 86, javax.swing.GroupLayout.PREFERRED_SIZE))
              .addGroup(panelDatosProgramaLayout.createSequentialGroup()
                .addComponent(lblFecha)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(comboFecha, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
            .addGap(18, 18, 18)
            .addGroup(panelDatosProgramaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
              .addComponent(lblValor)
              .addComponent(lblNombrePrograma))
            .addGroup(panelDatosProgramaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
              .addGroup(panelDatosProgramaLayout.createSequentialGroup()
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(txtNombre, javax.swing.GroupLayout.PREFERRED_SIZE, 310, javax.swing.GroupLayout.PREFERRED_SIZE))
              .addGroup(panelDatosProgramaLayout.createSequentialGroup()
                .addGroup(panelDatosProgramaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                  .addGroup(panelDatosProgramaLayout.createSequentialGroup()
                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(lblParticipantes)
                    .addGap(35, 35, 35))
                  .addGroup(panelDatosProgramaLayout.createSequentialGroup()
                    .addGap(4, 4, 4)
                    .addComponent(txtValor, javax.swing.GroupLayout.PREFERRED_SIZE, 107, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGap(174, 174, 174)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(spinParticipantes, javax.swing.GroupLayout.PREFERRED_SIZE, 52, javax.swing.GroupLayout.PREFERRED_SIZE))))
          .addGroup(panelDatosProgramaLayout.createSequentialGroup()
            .addGap(201, 201, 201)
            .addComponent(lblEstado)
            .addGap(29, 29, 29)
            .addComponent(comboEstado, javax.swing.GroupLayout.PREFERRED_SIZE, 129, javax.swing.GroupLayout.PREFERRED_SIZE)))
        .addContainerGap())
    );
    panelDatosProgramaLayout.setVerticalGroup(
      panelDatosProgramaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
      .addGroup(panelDatosProgramaLayout.createSequentialGroup()
        .addContainerGap()
        .addGroup(panelDatosProgramaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
          .addGroup(panelDatosProgramaLayout.createSequentialGroup()
            .addComponent(lblNombrePrograma)
            .addGap(18, 18, 18)
            .addGroup(panelDatosProgramaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
              .addComponent(lblValor)
              .addComponent(lblParticipantes)
              .addComponent(txtValor, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
              .addComponent(spinParticipantes, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)))
          .addGroup(panelDatosProgramaLayout.createSequentialGroup()
            .addGroup(panelDatosProgramaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
              .addComponent(lblCohorte1)
              .addComponent(txtNombre, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
              .addComponent(txtCohortePrograma, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
            .addGap(18, 18, 18)
            .addGroup(panelDatosProgramaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
              .addComponent(lblFecha)
              .addComponent(comboFecha, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))))
        .addGap(18, 18, 18)
        .addGroup(panelDatosProgramaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
          .addComponent(lblEstado)
          .addComponent(comboEstado, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
    );

    panelListadoGeneral.setBackground(new java.awt.Color(255, 255, 255));
    panelListadoGeneral.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Opción editar seleccionando del listado general de Programas", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Calibri", 2, 13))); // NOI18N

    tablaListadoProgramas.setModel(new javax.swing.table.DefaultTableModel(
      new Object [][] {

      },
      new String [] {
        "Cohorte", "Nombre", "Fecha Inicio", "Valor", "Participantes", "Estado"
      }
    ));
    tablaListadoProgramas.addMouseListener(new java.awt.event.MouseAdapter() {
      public void mouseClicked(java.awt.event.MouseEvent evt) {
        tablaListadoProgramasMouseClicked(evt);
      }
    });
    tablaListadoProgramas.addFocusListener(new java.awt.event.FocusAdapter() {
      public void focusGained(java.awt.event.FocusEvent evt) {
        tablaListadoProgramasFocusGained(evt);
      }
    });
    scrollListadoGeneral.setViewportView(tablaListadoProgramas);

    javax.swing.GroupLayout panelListadoGeneralLayout = new javax.swing.GroupLayout(panelListadoGeneral);
    panelListadoGeneral.setLayout(panelListadoGeneralLayout);
    panelListadoGeneralLayout.setHorizontalGroup(
      panelListadoGeneralLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
      .addGroup(panelListadoGeneralLayout.createSequentialGroup()
        .addContainerGap()
        .addComponent(scrollListadoGeneral, javax.swing.GroupLayout.DEFAULT_SIZE, 701, Short.MAX_VALUE)
        .addContainerGap())
    );
    panelListadoGeneralLayout.setVerticalGroup(
      panelListadoGeneralLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
      .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, panelListadoGeneralLayout.createSequentialGroup()
        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        .addComponent(scrollListadoGeneral, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
        .addContainerGap())
    );

    btnGuardarPrograma.setFont(new java.awt.Font("Calibri", 3, 13)); // NOI18N
    btnGuardarPrograma.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/nuevoPrograma.png"))); // NOI18N
    btnGuardarPrograma.setText("Guardar Programa");
    btnGuardarPrograma.addActionListener(new java.awt.event.ActionListener() {
      public void actionPerformed(java.awt.event.ActionEvent evt) {
        btnGuardarProgramaActionPerformed(evt);
      }
    });

    btnSalir.setFont(new java.awt.Font("Calibri", 3, 13)); // NOI18N
    btnSalir.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/salir.png"))); // NOI18N
    btnSalir.setText("Salir");
    btnSalir.addActionListener(new java.awt.event.ActionListener() {
      public void actionPerformed(java.awt.event.ActionEvent evt) {
        btnSalirActionPerformed(evt);
      }
    });

    javax.swing.GroupLayout panelBusquedaProgramaLayout = new javax.swing.GroupLayout(panelBusquedaPrograma);
    panelBusquedaPrograma.setLayout(panelBusquedaProgramaLayout);
    panelBusquedaProgramaLayout.setHorizontalGroup(
      panelBusquedaProgramaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
      .addGroup(panelBusquedaProgramaLayout.createSequentialGroup()
        .addGroup(panelBusquedaProgramaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
          .addGroup(panelBusquedaProgramaLayout.createSequentialGroup()
            .addContainerGap()
            .addComponent(panelListadoGeneral, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
          .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, panelBusquedaProgramaLayout.createSequentialGroup()
            .addGap(12, 12, 12)
            .addComponent(panelDatosConvenio, javax.swing.GroupLayout.DEFAULT_SIZE, 731, Short.MAX_VALUE))
          .addGroup(panelBusquedaProgramaLayout.createSequentialGroup()
            .addContainerGap()
            .addGroup(panelBusquedaProgramaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
              .addGroup(panelBusquedaProgramaLayout.createSequentialGroup()
                .addComponent(lblTitulo)
                .addGap(18, 18, 18)
                .addComponent(lblicono))
              .addComponent(panelBusquedaCohorte, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
          .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, panelBusquedaProgramaLayout.createSequentialGroup()
            .addGap(12, 12, 12)
            .addComponent(panelDatosPrograma, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
          .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, panelBusquedaProgramaLayout.createSequentialGroup()
            .addContainerGap(401, Short.MAX_VALUE)
            .addComponent(btnSalir, javax.swing.GroupLayout.PREFERRED_SIZE, 141, javax.swing.GroupLayout.PREFERRED_SIZE)
            .addGap(36, 36, 36)
            .addComponent(btnGuardarPrograma)))
        .addContainerGap())
    );
    panelBusquedaProgramaLayout.setVerticalGroup(
      panelBusquedaProgramaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
      .addGroup(panelBusquedaProgramaLayout.createSequentialGroup()
        .addGroup(panelBusquedaProgramaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
          .addGroup(panelBusquedaProgramaLayout.createSequentialGroup()
            .addContainerGap()
            .addComponent(lblicono))
          .addGroup(panelBusquedaProgramaLayout.createSequentialGroup()
            .addGap(19, 19, 19)
            .addComponent(lblTitulo)))
        .addGap(18, 18, 18)
        .addComponent(panelBusquedaCohorte, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
        .addComponent(panelListadoGeneral, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        .addComponent(panelDatosConvenio, javax.swing.GroupLayout.PREFERRED_SIZE, 89, javax.swing.GroupLayout.PREFERRED_SIZE)
        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
        .addComponent(panelDatosPrograma, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
        .addGroup(panelBusquedaProgramaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
          .addComponent(btnGuardarPrograma)
          .addComponent(btnSalir))
        .addGap(4, 4, 4))
    );

    menuArchivo.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/menuArchivo.png"))); // NOI18N
    menuArchivo.setText("Archivo");
    menuArchivo.setFont(new java.awt.Font("Calibri", 2, 13)); // NOI18N
    barraMenu.add(menuArchivo);

    menuAyuda.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/menuAyuda.png"))); // NOI18N
    menuAyuda.setText("Ayuda");
    menuAyuda.setFont(new java.awt.Font("Calibri", 2, 13)); // NOI18N
    barraMenu.add(menuAyuda);

    setJMenuBar(barraMenu);

    javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
    getContentPane().setLayout(layout);
    layout.setHorizontalGroup(
      layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
      .addComponent(panelBusquedaPrograma, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
    );
    layout.setVerticalGroup(
      layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
      .addComponent(panelBusquedaPrograma, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
    );

    pack();
  }// </editor-fold>//GEN-END:initComponents

private void btnBuscarProgramaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnBuscarProgramaActionPerformed
// TODO add your handling code here:
  String cohorte = "";
  if (txtCohorte.getText().trim().equals("")) {
    JOptionPane.showMessageDialog(rootPane, "Debe digitar una cohorte de Programa para buscar", "Digite cohorte del programa", 0);
  } else {
    cohorte = txtCohorte.getText().trim();
    cargarDatosPrograma(cohorte);
  }
}//GEN-LAST:event_btnBuscarProgramaActionPerformed

private void radioConvenioSiActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_radioConvenioSiActionPerformed
// TODO add your handling code here:
  if (radioConvenioSi.isSelected()) {
    radioConvenioNo.setSelected(false);
    mostrarBusquedaConvenio();
  } else {
    radioConvenioNo.setSelected(true);
    ocultarBusquedaConvenio();
  }
}//GEN-LAST:event_radioConvenioSiActionPerformed

private void radioConvenioNoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_radioConvenioNoActionPerformed
// TODO add your handling code here:
  if (radioConvenioNo.isSelected()) {
    radioConvenioSi.setSelected(false);
    ocultarBusquedaConvenio();
  } else {
    radioConvenioSi.setSelected(true);
    mostrarBusquedaConvenio();
  }
}//GEN-LAST:event_radioConvenioNoActionPerformed

private void btnBuscarConvenioActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnBuscarConvenioActionPerformed
// TODO add your handling code here:
  int numeroConvenio = 0;
  boolean controlDatos = true;
  if (txtNumeroConvenio.getText().trim().equals("")) {
    JOptionPane.showMessageDialog(rootPane, "Debe Digitar un número de Convenio", "Error número Convenio", 0);
    controlDatos = false;
  } else {
    try {
      numeroConvenio = Integer.parseInt(txtNumeroConvenio.getText().trim());
    } catch (Exception e) {
      JOptionPane.showMessageDialog(rootPane, "Debe Digitar un número de Convenio que\n"
              + "contenga digitos entre 0 y 9 Ej: 0674", "Error número Convenio", 0);
      controlDatos = false;
      System.out.println(e.getMessage());
    }
  }
  if (controlDatos) {
    try {
      convenio = controlPrograma.ConsultaConvenio(numeroConvenio);
      if (convenio != null) {
        txtNumeroConvenio.setText(String.valueOf(convenio.getNumero_convenio()));
        txtNumeroConvenio.setEditable(false);
        lblEstadoConvenioValor.setText(convenio.getEstado_convenio());
      } else {
        JOptionPane.showMessageDialog(rootPane, "El número de convenio ingresado no arrojo resultados\n"
                + "Si desea usar este numero de convenio, debe ser \ncreado por el encargado de Convenios", "No se encontraron resultados", 0);
      }
    } catch (Exception e) {
      System.out.println(e.getMessage());
    }
  }
}//GEN-LAST:event_btnBuscarConvenioActionPerformed

private void tablaListadoProgramasFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tablaListadoProgramasFocusGained
// TODO add your handling code here:  
}//GEN-LAST:event_tablaListadoProgramasFocusGained

private void tablaListadoProgramasMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tablaListadoProgramasMouseClicked
// TODO add your handling code here:
  int fila = tablaListadoProgramas.getSelectedRow();
  if (fila != -1) {
    String cohorte = tablaListadoProgramas.getValueAt(fila, 0).toString();
    cargarDatosPrograma(cohorte);
  }
}//GEN-LAST:event_tablaListadoProgramasMouseClicked

private void btnGuardarProgramaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnGuardarProgramaActionPerformed
// TODO add your handling code here:
  boolean controlDatos = true;
  String cohorte = "";
  String nombre = "";
  Date fecha = null;
  double valor = 0;
  int participantes = 0;
  String estado = "";
  int numeroConvenio = 0;
  if (txtCohorte.getText().trim().equals("")) {
    JOptionPane.showMessageDialog(rootPane, "Debe Digitar una cohorte para el Programa", "Digite Cohorte", 0);
    controlDatos = false;
  } else {
    cohorte = txtCohorte.getText().trim();
  }
  if (txtNombre.getText().trim().equals("")) {
    JOptionPane.showMessageDialog(rootPane, "Debe Digitar un Nombre para el Programa", "Digite Nombre", 0);
    controlDatos = false;
  } else {
    nombre = txtNombre.getText().trim();
  }
  if (txtValor.getText().trim().equals("")) {
    JOptionPane.showMessageDialog(rootPane, "Debe Digitar un valor para el programa", "Digite Valor", 0);
    controlDatos = false;
  } else {
    try {
      valor = Double.parseDouble(txtValor.getText().trim());
    } catch (Exception e) {
      JOptionPane.showMessageDialog(rootPane, "Debe digitar un valor para el programa que\n"
              + "contenga digitos entre 0 y 9", "Valor invalido", 0);
      controlDatos = false;
      System.out.println(e.getMessage());
    }
  }
  if (convenio != null) {
    if (convenio.getEstado_convenio().equals("SUSPENDIDO") || convenio.getEstado_convenio().equals("LIQUIDADO")) {
      JOptionPane.showMessageDialog(rootPane, "El estado del convenio no permite que se\nvincule algun programa al mismo", "Estado de convenio", 0);
      controlDatos = false;
    } else {
      numeroConvenio = convenio.getNumero_convenio();
    }
  }
  if (controlDatos) {
    try {
      fecha = formatoFecha.parse(comboFecha.getText());
      participantes = Integer.parseInt(spinParticipantes.getValue().toString());
      estado = comboEstado.getSelectedItem().toString();
      Programa programa = new Programa(0, cohorte, nombre, fecha, valor, participantes, estado, numeroConvenio);
      boolean controlAdicion = controlPrograma.EditarPrograma(programa);
      if (controlAdicion) {
        JOptionPane.showMessageDialog(rootPane, "El programa se Edito correctamente", "Programa Editado", 1);
        limpiarFormularios();
      } else {
        JOptionPane.showMessageDialog(rootPane, "No se pudo crear el programa", "Creación faliida", 2);
      }
    } catch (Exception e) {
      System.out.println(e.getMessage());
    }
  }

}//GEN-LAST:event_btnGuardarProgramaActionPerformed

private void btnSalirActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSalirActionPerformed
// TODO add your handling code here:
  this.dispose();
}//GEN-LAST:event_btnSalirActionPerformed
  // Variables declaration - do not modify//GEN-BEGIN:variables
  private javax.swing.JMenuBar barraMenu;
  private javax.swing.JButton btnBuscarConvenio;
  private javax.swing.JButton btnBuscarPrograma;
  private javax.swing.JButton btnGuardarPrograma;
  private javax.swing.JButton btnSalir;
  private javax.swing.JComboBox comboEstado;
  private datechooser.beans.DateChooserCombo comboFecha;
  private javax.swing.JLabel lblCohorte;
  private javax.swing.JLabel lblCohorte1;
  private javax.swing.JLabel lblEstado;
  private javax.swing.JLabel lblEstadoConvenio;
  private javax.swing.JLabel lblEstadoConvenioValor;
  private javax.swing.JLabel lblFecha;
  private javax.swing.JLabel lblNombrePrograma;
  private javax.swing.JLabel lblNumeroConvenio;
  private javax.swing.JLabel lblParticipantes;
  private javax.swing.JLabel lblTitulo;
  private javax.swing.JLabel lblValor;
  private javax.swing.JLabel lblicono;
  private javax.swing.JMenu menuArchivo;
  private javax.swing.JMenu menuAyuda;
  private javax.swing.JPanel panelBusquedaCohorte;
  private javax.swing.JPanel panelBusquedaPrograma;
  private javax.swing.JPanel panelDatosConvenio;
  private javax.swing.JPanel panelDatosPrograma;
  private javax.swing.JPanel panelListadoGeneral;
  private javax.swing.JRadioButton radioConvenioNo;
  private javax.swing.JRadioButton radioConvenioSi;
  private javax.swing.JScrollPane scrollListadoGeneral;
  private javax.swing.JSpinner spinParticipantes;
  private javax.swing.JTable tablaListadoProgramas;
  private javax.swing.JTextField txtCohorte;
  private javax.swing.JTextField txtCohortePrograma;
  private javax.swing.JTextField txtNombre;
  private javax.swing.JTextField txtNumeroConvenio;
  private javax.swing.JTextField txtValor;
  // End of variables declaration//GEN-END:variables

  private void cargarProgramas() {
    try {
      ArrayList<Programa> programasCon = controlPrograma.BuscarProgramas();
      if (programasCon.isEmpty()) {
        JOptionPane.showMessageDialog(rootPane, "No se encontraton programas creados en el sistema", "No hay resultados que mostrar", 0);
      } else {
        programas = programasCon;
      }
    } catch (Exception e) {
      System.out.println(e.getMessage());
    }
    int fila = 0;
    for (int i = 0; i < programas.size(); i++) {
      if (tablaListadoProgramas.getRowCount() == fila) {
        DefaultTableModel tablaTemp = (DefaultTableModel) tablaListadoProgramas.getModel();
        Object nuevo[] = {null, null, null, null, null, null};
        tablaTemp.addRow(nuevo);
      }
      tablaListadoProgramas.setValueAt(programas.get(i).getCohorte_programa(), i, 0);
      tablaListadoProgramas.setValueAt(programas.get(i).getNombre_programa(), i, 1);
      tablaListadoProgramas.setValueAt(programas.get(i).getFecha_inicio_programa(), i, 2);
      tablaListadoProgramas.setValueAt(programas.get(i).getValor(), i, 3);
      tablaListadoProgramas.setValueAt(programas.get(i).getParticipantes(), i, 4);
      tablaListadoProgramas.setValueAt(programas.get(i).getEstado(), i, 5);
      fila++;
    }
    if (tablaListadoProgramas.getRowCount() > fila) {
      DefaultTableModel tablaTemp = (DefaultTableModel) tablaListadoProgramas.getModel();
      tablaTemp.removeRow(fila);
    }
  }

  private void limpiarTablaResultados() {
    for (int i = 0; i < tablaListadoProgramas.getRowCount(); i++) {
      tablaListadoProgramas.setValueAt("", i, 0);
      tablaListadoProgramas.setValueAt("", i, 1);
      tablaListadoProgramas.setValueAt("", i, 2);
      tablaListadoProgramas.setValueAt("", i, 3);
      tablaListadoProgramas.setValueAt("", i, 4);
      tablaListadoProgramas.setValueAt("", i, 5);
    }
  }

  private void mostrarBusquedaConvenio() {
    txtNumeroConvenio.setEditable(true);
    txtNumeroConvenio.setText("");
    lblNumeroConvenio.setVisible(true);
    txtNumeroConvenio.setVisible(true);
    btnBuscarConvenio.setVisible(true);
    lblEstadoConvenio.setVisible(true);
    lblEstadoConvenioValor.setVisible(true);
    lblEstadoConvenioValor.setText("");
    convenio = null;
  }

  private void ocultarBusquedaConvenio() {
    lblNumeroConvenio.setVisible(false);
    txtNumeroConvenio.setVisible(false);
    btnBuscarConvenio.setVisible(false);
    lblEstadoConvenio.setVisible(false);
    lblEstadoConvenioValor.setVisible(false);
    convenio = null;
  }

  private void limpiarFormularios() {
    txtNumeroConvenio.setText("");
    lblEstadoConvenioValor.setText("");
    txtCohortePrograma.setText("");
    txtNombre.setText("");
    txtValor.setText("");
    spinParticipantes.setValue("");
    limpiarTablaResultados();
    cargarProgramas();
  }

  private void cargarDatosPrograma(String cohorte) {
    try {
      programa = controlPrograma.ConsultarPrograma(cohorte);
      if (programa != null) {
        txtCohortePrograma.setText(programa.getCohorte_programa());
        txtNombre.setText(programa.getNombre_programa());
        comboFecha.setText(formatoFecha.format(programa.getFecha_inicio_programa()));
        txtValor.setText(String.valueOf(programa.getValor()));
        spinParticipantes.setValue(programa.getParticipantes());
        comboEstado.setSelectedItem(programa.getEstado());
        txtNumeroConvenio.setText(String.valueOf(programa.getNumero_convenio()));
      } else {
        JOptionPane.showMessageDialog(rootPane, "No se encontraton programas con la cohorte ingresada", "No hay resultados que mostrar", 0);
        limpiarFormularios();
      }
    } catch (Exception e) {
      System.out.println(e.getMessage());
    }
  }
}
